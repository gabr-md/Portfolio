[["projetos.html", "2 Projetos 2.1 Banco Iris 2.2 Outro banco", " 2 Projetos Abaixo tenho alguns projetos análises de dados que fiz para treinar algumas habilidades. 2.1 Banco Iris Para primeira análise não tinha como ser diferente, vou começar com o dataset Iris, que é uma das bases de dados mais utilizadas para fazer análises básicas. Para verificar a estrutura do banco de dados iris podemos usar a função head: head(iris) ## Sepal.Length Sepal.Width Petal.Length Petal.Width Species ## 1 5.1 3.5 1.4 0.2 setosa ## 2 4.9 3.0 1.4 0.2 setosa ## 3 4.7 3.2 1.3 0.2 setosa ## 4 4.6 3.1 1.5 0.2 setosa ## 5 5.0 3.6 1.4 0.2 setosa ## 6 5.4 3.9 1.7 0.4 setosa Usando a função head podemos ver as primeiras linhas da base de dados e suas colunas. Segundo o UCI Machine Learning, a base do Iris contém ao todo 150 linhas com 5 colunas, sendo: Sepal.Length = comprimento das sépalas (em cm); Sepal.Width = largura das sépalas (em cm); Petal.Lengt = comprimento das pétalas (em cm); Petal.Width = largura das pétalas (em cm); Species = espécie das plantas; Para saber com qual análise posso começar vou verificar antes as classes das variáveis usando a função glimpse do pacote dplyr. # Carregando a função dplyr library(dplyr) glimpse(iris) ## Rows: 150 ## Columns: 5 ## $ Sepal.Length &lt;dbl&gt; 5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9, 5.4, 4.~ ## $ Sepal.Width &lt;dbl&gt; 3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.~ ## $ Petal.Length &lt;dbl&gt; 1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.5, 1.~ ## $ Petal.Width &lt;dbl&gt; 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.~ ## $ Species &lt;fct&gt; setosa, setosa, setosa, setosa, setosa, setosa, setosa, s~ Sabendo que as classes são númericas vou utilizar o summary para uma visão geral. summary(iris[,1:4]) ## Sepal.Length Sepal.Width Petal.Length Petal.Width ## Min. :4.300 Min. :2.000 Min. :1.000 Min. :0.100 ## 1st Qu.:5.100 1st Qu.:2.800 1st Qu.:1.600 1st Qu.:0.300 ## Median :5.800 Median :3.000 Median :4.350 Median :1.300 ## Mean :5.843 Mean :3.057 Mean :3.758 Mean :1.199 ## 3rd Qu.:6.400 3rd Qu.:3.300 3rd Qu.:5.100 3rd Qu.:1.800 ## Max. :7.900 Max. :4.400 Max. :6.900 Max. :2.500 Ao analisar os resultados pode-se notar que o comprimento das sépalas e pétalas é maior do que a largura dos mesmos. Após observar brevemente o banco Iris gostaria de responder as seguintes perguntas: O tamanho de sépala e as espécies influenciam no tamanho de pétala? Se sim, qual é essa relação? 2.1.1 Análise descritiva Para responder essa pergunta vou começar com análise descritivas, que podem ser simples mas que em muitos casos já conseguem identificar informações valiosas Vou partir do pressuposto que a média entre comprimento e largura de sépalas e pétalas é um bom indicador do seu tamanho, então farei isso no R. iris &lt;- iris %&gt;% mutate(media_petala = (Petal.Length+Petal.Width)/2, # Média das pétalas media_sepala = (Sepal.Length+Sepal.Width)/2) %&gt;% # Média das sépalas select(media_petala,media_sepala,Species) head(iris, 5) ## media_petala media_sepala Species ## 1 0.80 4.30 setosa ## 2 0.80 3.95 setosa ## 3 0.75 3.95 setosa ## 4 0.85 3.85 setosa ## 5 0.80 4.30 setosa Podemos ver acima como ficou o banco de dados agora com apenas 3 variáveis. Primeiramente farei um gráfico para verificar visualmente se há uma possível relação entre a média de comprimento e largura das pétalas e sépalas. # Carregando a função do ggplot2 library(ggplot2) ggplot(iris) + geom_point(aes(x = media_sepala,y = media_petala)) + labs(title = &quot;Relação Pétalas e Sépalas&quot;, x = &quot;Média Sépalas&quot;, y = &quot;Média Pétalas&quot;) + theme_bw() É possível notar que parece existir alguma relação, porém o efeito das espécies não nos permite enxergar isso da melhor forma, então vou segmentar o gráfico de acordo com a espécie. ggplot(iris) + geom_point(aes(x = media_sepala,y = media_petala)) + labs(title = &quot;Relação Pétalas e Sépalas&quot;, x = &quot;Média Sépalas&quot;, y = &quot;Média Pétalas&quot;) + theme_bw() + facet_grid(~ Species) Agora podemos notar que as espécies parecem influenciar no tamanho das pétalas e sépalas, visto que os pontos se encontram em locais distintos dos gráficos. Além disso, nota-se possível relação positiva entre tamanho de sépalas e pétalas nas espécies versicolor e virginica, já a setosa não apresenta graficamente essa relação. 2.1.2 Análise de Regressão Para avaliar se realmente existe essa relação estatística entre as pétalas, sépalas e espécie de planta eu vou usar a técnica de regressão linear. # Usando a função lm para ajustar o modelo fit &lt;- lm(media_petala~media_sepala+Species, data = iris) # Usando a função summary para avaliar resultados dos ajustes summary(fit) ## ## Call: ## lm(formula = media_petala ~ media_sepala + Species, data = iris) ## ## Residuals: ## Min 1Q Median 3Q Max ## -0.50872 -0.13092 0.00096 0.14311 0.61936 ## ## Coefficients: ## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) -1.33611 0.18761 -7.122 4.49e-11 *** ## media_sepala 0.51935 0.04398 11.809 &lt; 2e-16 *** ## Speciesversicolor 1.86837 0.04055 46.073 &lt; 2e-16 *** ## Speciesvirginica 2.64209 0.04716 56.025 &lt; 2e-16 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## Residual standard error: 0.2005 on 146 degrees of freedom ## Multiple R-squared: 0.9749, Adjusted R-squared: 0.9744 ## F-statistic: 1893 on 3 and 146 DF, p-value: &lt; 2.2e-16 Acima temos alguns resultados interessantes, primeiramente é possível notar que o tamanho médio das sépalas e a espécie influencia no tamanho médio das pétalas, chego nessa conclusão pois o p-valor do modelos para cada um das variáveis é menor que 0,05. A cada unidade que aumentamos no tamanho médio das sépalas, 0,51 é adicionado no tamanho médio das pétalas. Já quanto as espécies, o tamanho das pétalas na espécie Versicolor é 1,86 vezes maior que na espécie Setosa (que está oculto nos resultados) enquanto as pétalas na espécie Virginica são 2,64 vezes maiores que na Setosa. Além disso, o R² foi de 0,9744, isso indica que aproximadamente 97% da variação do tamanho das pétalas é explicada pelo tamanho das sépalas e espécie. Antes de chegar a uma conclusão final dos resultados devemos verificar algumas suposições. Para o modelo de regressão linear é necessário normalidade e homocedasticidade dos resíduos. # Teste de normalidade de Shapiro Wilk shapiro.test(fit$residuals) ## ## Shapiro-Wilk normality test ## ## data: fit$residuals ## W = 0.99395, p-value = 0.7868 O p-valor do teste de Shapiro Wilk foi de 0,7868, dessa forma concluímos que os resíduos seguem a distribuição normal. # Verificação de homocedasticidade plot(fit$fitted.values,fit$residuals) Acima temos o gráfico dos resíduos pelo valores ajustados, a dispersão dos resíduos ao longo do eixo dos valores ajustados parece ser a mesma, esse é um grande indicativo de homocedasticidade dos resíduos, ou seja, variância constante. 2.1.3 Conclusão Com os pressupostos verificados posso chegar a uma conclusão respondendo as perguntas feitas no início. O tamanho de sépala e tipo de espécie influenciam sim no tamanho das pétalas, e essa relação acontece da seguinte forma: O tamanho de sépala tem uma relação positiva com o tamanho das pétalas, ou seja, quanto maior são as sépalas, maiores vão ser as pétalas. As espécies Virginica e Versicolor apresentam tamanho de pétala maior em relação a espécie Setosa 2.2 Outro banco "]]
